.theme-light {
  /* Background Colors */
  --background-h: 0;
  --background-s: 100%;
  --background-l: 99.6%;
  --background-hsl: var(--background-h), var(--background-s), var(--background-l);
  --background-primary: hsl(var(--background-hsl));
  --background-secondary: hsl(var(--background-h), calc(var(--background-s) / 3), calc(var(--background-l) - 2%));
  --background-dark: rgb(23, 34, 62);
  --background-extra-dark: rgb(0, 10, 20);
  --background-primary-alt: var(--background-dark);
  --background-secondary-alt: var(--background-dark);

  /* Background-Derivative Accents */
  --accent-soft-hsl: var(--background-h), calc(var(--accent-s) * 0.4), calc(var(--background-l) / 5);
  --accent-soft-dark: hsla(var(--accent-soft-hsl), 0.1);
  --accent-soft-light: hsla(var(--accent-soft-hsl), 0.05);
  
  /* Main Accent Colors */
  --accent-h: 0;
  --accent-s: 75.5%;
  --accent-l: 52%;
  --color-accent: hsl(var(--accent-h), var(--accent-s), var(--accent-l));
  --color-accent-1: var(--color-accent);
  --color-accent-background: hsla(var(--color-accent-hsl), 0.075);
  --color-accent-background-hover: hsla(var(--color-accent-hsl), 0.125);
  --accent-on-selection: hsla(var(--color-accent-hsl), 0.4);

  /* Callout Colors */
  --callout-default: var(--text-normal);
  --callout-info: var(--text-normal);
  --callout-summary: var(--text-normal);
  --callout-tip: var(--text-normal);
  --callout-question: var(--text-normal);
  --callout-example: var(--text-normal);
  --callout-quote: var(--text-normal);
  --callout-important: var(--color-accent);
  --callout-todo: rgb(0, 130, 235);
  --callout-success: rgb(0, 180, 0);
  --callout-warning: rgb(240, 150, 0);
  --callout-fail: rgb(235, 0, 0);
  --callout-error: rgb(235, 0, 0);
  --callout-bug: rgb(245, 0, 165);

  /* Font Colors */
  --text-main: 0, 0, 0;
  --text-normal: rgb(var(--text-main));
  --text-muted: var(--text-main);
  --text-faint: var(--text-main);
  --text-white: var(--background-primary);
  --text-highlight-bg: rgb(250, 231, 75);
  --text-highlight-fg: var(--text-normal);
  --text-error: rgb(250, 30, 0);
  --text-accent-hover: var(--text-normal);
  --text-on-accent: var(--text-white) !important;
  --text-selection: var(--accent-on-selection);
  --code-normal: var(--text-white);
  --code-punctuation: var(--code-normal);
  --hr-color: rgba(var(--text-main), 0.4);

  /* Syntax Highlighting */
  --code-peripheral: 159, 157, 190;
  --code-comment: rgb(var(--code-peripheral));
  --code-indentation-guide-color: rgba(var(--code-peripheral), 0.5);
  --color-yellow: rgb(240, 215, 65);
  --color-orange: rgb(220, 95, 0);
  --color-pink: rgb(230, 100, 240);
  --color-red: rgb(230, 65, 65);
  --color-cyan: rgb(0, 202, 235);
  --color-green: rgb(30, 195, 75);
  --color-purple: rgb(140, 110, 255);

  /* Interface Colors */
  --titlebar-background: var(--background-secondary);
  --titlebar-background-focused: var(--background-secondary);
  --interactive-normal: var(--accent-soft-light);
  --interactive-hover: var(--accent-soft-dark);
  --interactive-accent-hover: var(--color-accent);
  --tag-background: var(--color-accent-background);
  --tag-background-hover: var(--color-accent-background-hover);
  --prompt-border-color: var(--accent-soft-dark);
  --modal-border-color: var(--accent-soft-dark);
  --code-background: var(--background-dark);
  --background-modifier-hover: var(--accent-soft-light);
  --background-modifier-active-hover: var(--accent-soft-light);
  --background-modifier-form-field: var(--accent-soft-light);
  --background-modifier-border: var(--accent-soft-dark);
  --background-modifier-border-hover: var(--accent-soft-dark);
  --background-modifier-border-focus: var(--accent-soft-dark);
  --background-modifier-error: var(--text-error);
  --background-modifier-error-hover: var(--text-error);
  --search-result-bg-hover: var(--accent-soft-dark);

  /* Interface Styles */
  --radius-s: 2px;
  --radius-m: 4px;
  --radius-l: 6px;
  --radius-xl: 8px;
  --input-radius: var(--radius-m);

  /* Dictionary Plugin Colors */
  --dictionary-background-primary: var(--accent-soft-light);
  --dictionary-background-secondary: var(--background-secondary);

  /* Kanban Plugin Colors */
  --kanban-button-text: var(--text-normal);
  --kanban-button-text-hover: var(--text-white);
  --kanban-checkbox-border: var(--accent-soft-dark);
  --button-shadow-hover: rgba(0, 0, 0, 0.67);
}

.theme-dark {
  /* Background Colors */
  --background-h: 221;
  --background-s: 33.3%;
  --background-l: 12.9%;
  --background-hsl: var(--background-h), var(--background-s), var(--background-l);
  --background-primary: hsl(var(--background-hsl));
  --background-secondary: hsl(var(--background-h), calc(var(--background-s) - 4.5%), calc(var(--background-l) + 5.5%));
  --background-dark: rgb(10, 18, 30);
  --background-extra-dark: rgb(0, 5, 10);
  --background-primary-alt: var(--background-dark);
  --background-secondary-alt: var(--background-dark);

  /* Background-Derivative Accents */
  --accent-soft-hsl: var(--background-h), var(--background-s), 85%;
  --accent-soft-dark: hsla(var(--accent-soft-hsl), 0.1);
  --accent-soft-light: hsla(var(--accent-soft-hsl), 0.05);
  --hr-color: hsla(var(--accent-soft-hsl), 0.25);

  /* Main Accent Colors */
  --accent-h: 189;
  --accent-s: 100%;
  --accent-l: 49%;
  --color-accent: hsl(var(--accent-h), var(--accent-s), var(--accent-l));
  --color-accent-1: var(--color-accent);
  --color-accent-background: hsla(var(--color-accent-hsl), 0.067);
  --color-accent-background-hover: hsla(var(--color-accent-hsl), 0.125);
  --accent-on-selection: hsla(var(--color-accent-hsl), 0.4);

  /* Callout Colors */
  --callout-default: var(--text-normal);
  --callout-info: var(--text-normal);
  --callout-summary: var(--text-normal);
  --callout-tip: var(--text-normal);
  --callout-question: var(--text-normal);
  --callout-example: var(--text-normal);
  --callout-quote: var(--text-normal);
  --callout-important: var(--color-accent);
  --callout-todo: rgb(0, 130, 255);
  --callout-success: rgb(0, 190, 0);
  --callout-warning: rgb(220, 210, 0);
  --callout-fail: rgb(250, 30, 0);
  --callout-error: rgb(250, 30, 0);
  --callout-bug: rgb(245, 0, 170);
  --callout-tip: rgb(255, 220, 120);

  /* Font Colors */
  --text-main: 250, 247, 245;
  --text-normal: rgba(var(--text-main), 1);
  --text-muted: rgba(var(--text-main), 1);
  --text-faint: rgba(var(--text-main), 1);
  --text-white: var(--text-normal);
  --text-highlight-bg: rgb(220, 193, 45);
  --text-highlight-fg: #000;
  --text-error: rgb(250, 30, 0);
  --text-accent-hover: var(--text-normal);
  --text-on-accent: #000 !important;
  --text-selection: var(--accent-on-selection);
  --code-normal: var(--text-white);
  --code-punctuation: var(--code-normal);

  /* Syntax Highlighting */
  --code-peripheral: 175, 191, 255;
  --code-comment: rgba(var(--code-peripheral), 0.7);
  --code-indentation-guide-color: rgba(var(--code-peripheral), 0.35);
  --color-yellow: rgb(240, 215, 65);
  --color-orange: rgb(220, 95, 0);
  --color-pink: rgb(230, 100, 240);
  --color-red: rgb(230, 65, 65);
  --color-cyan: rgb(0, 202, 235);
  --color-green: rgb(30, 195, 75);
  --color-purple: rgb(140, 110, 255);

  /* Interface Colors */
  --titlebar-background: var(--background-secondary);
  --titlebar-background-focused: var(--background-secondary);
  --interactive-normal: var(--background-dark);
  --interactive-hover: var(--background-dark);
  --interactive-accent-hover: var(--color-accent);
  --tag-background: var(--color-accent-background);
  --tag-background-hover: var(--color-accent-background-hover);
  --prompt-border-color: var(--accent-soft-dark);
  --modal-border-color: var(--accent-soft-dark);
  --code-background: var(--background-dark);
  --background-modifier-hover: var(--accent-soft-light);
  --background-modifier-active-hover: var(--accent-soft-light);
  --background-modifier-form-field: var(--background-dark);
  --background-modifier-border: var(--accent-soft-dark);
  --background-modifier-border-hover: var(--accent-soft-dark);
  --background-modifier-border-focus: var(--accent-soft-dark);
  --background-modifier-error: var(--text-error);
  --background-modifier-error-hover: var(--text-error);
  --search-result-bg-hover: var(--background-dark);

  /* Interface Styles */
  --radius-s: 2px;
  --radius-m: 4px;
  --radius-l: 6px;
  --radius-xl: 8px;
  --input-radius: var(--radius-m);

  /* Dictionary Plugin Colors */
  --dictionary-background-primary: var(--background-secondary);
  --dictionary-background-secondary: var(--background-primary);

  /* Kanban Plugin Colors */
  --kanban-button-text: var(--text-normal);
  --kanban-button-text-hover: #000;
  --kanban-checkbox-border: var(--background-primary);
  --button-shadow-hover: rgba(255, 255, 255, 0.67);
}

/* Font Defaults */
body {
  --font-default: 'Franklin Gothic Book', 'Rubik', 'Helvetica Neue', ui-sans-serif, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-interface-theme: var(--font-default);
  --font-monospace-default: 'iA Writer Mono S', 'IBM Plex Mono', 'Roboto Mono', Menlo, SFMono-Regular, Consolas, 'Source Code Pro', monospace;
  --font-ui-smaller: 13px;
  --font-ui-small: 14px;
}

.workspace {
  /* Font Styles */
  --inline-title-size: 1.625em;
  --h1-size: 1.5em;
  --h2-size: 1.375em;
  --h3-size: 1.25em;
  --h4-size: 1.125em;
  --h5-size: 1em;
  --h6-size: 1em;
  --h1-color: var(--text-normal);
  --h2-color: var(--text-normal);
  --h3-color: var(--text-normal);
  --h4-color: var(--text-normal);
  --h5-color: var(--text-normal);
  --h6-color: var(--text-normal);
  --heading-formatting: var(--text-normal);
  --list-elements: var(--text-normal);
  --list-marker-color: var(--list-elements);
  --nav-item-color: var(--text-normal);
  --status-bar-text-color: var(--text-normal);
  --vault-name-font-weight: bold;
  --table-header-font: var(--font-text), sans-serif;
  --line-height-normal: 1.25em;
  --list-spacing: calc(var(--line-height-normal)/5);
  --list-indent: 1.25em;

  /* Link & Tag Colors */
  --link-color-hover: var(--color-accent);
  --link-external-color-hover: var(--color-accent);

  /* Page Element Colors */
  --checkbox-border-color: var(--list-elements);
  --table-border-color: var(--list-elements);
  --table-header-border-color: var(--list-elements);
  --indentation-guide-color: rgba(var(--text-main), 0.2) !important;

  /* Page Element Styles */
  --checkbox-radius: var(--radius-s);
  --input-radius: var(--radius-s);
  --tag-radius: var(--radius-m);
  --hr-thickness: 1px;
  --embed-border-left: 1px dashed var(--hr-color);

  /* Navigation Colors */
  --nav-item-background-hover: var(--accent-soft-light);
  --nav-item-background-active: var(--accent-soft-light);
  --nav-indentation-guide-color: var(--color-accent);
  --nav-collapse-icon-color: var(--color-accent);
  --nav-collapse-icon-color-collapsed: var(--color-accent);

  /* Icon Colors */
  --icon-color: var(--text-normal);
  --icon-color-hover: var(--text-normal);
  --icon-color-focused: var(--text-normal);
  --icon-color-active: var(--text-normal);
  --collapse-icon-color: var(--color-accent);
  --icon-opacity: 1;

  /* Interface Colors */
  --ribbon-background: var(--background-secondary);
  --tab-background-active: var(--background-primary);
  --tab-outline-color: var(--color-accent);
  --scrollbar-thumb-bg: var(--accent-soft-light);
  --scrollbar-active-thumb-bg: var(--accent-soft-dark);
  --divider-color: transparent;

  /* Kanban Plugin Styles */
  --button-radius: var(--radius-s);
  --button-shadow: hsl(var(--accent-soft-hsl), 0.6);
}

/* Polka Dots  */
.workspace-ribbon {
  background-image: 
    radial-gradient(var(--color-accent) 15%, transparent 25%),
    radial-gradient(var(--color-accent) 17.5%, transparent 25%);
  background-position: 2px 0px, 6px 4px;
  background-size: 8px 8px;
}
.side-dock-ribbon-action, .side-dock-ribbon-action:hover {
  background: var(--background-secondary);
}

/* Element Style Overrides */
/* Headings */
h5, .markdown-rendered h5, .HyperMD-header-5, .HyperMD-list-line .cm-header-5 {
  font-weight: bold;
}
h6, .markdown-rendered h6, .HyperMD-header-6, .HyperMD-list-line .cm-header-6 {
  font-weight: normal;
  font-style: italic;
}
/* Further Font Styles */
hr, .markdown-rendered hr {
  border-top: var(--hr-color) var(--hr-thickness) dashed;
}
/* Special Text Block Spacing */
.HyperMD-quote, .HyperMD-codeblock {
  padding-left: 1.5em !important;
}
.cm-formatting-list, input[type=checkbox] {
  margin-right: 0.25em;
}
/* Code Blocks */
.cm-s-obsidian div.HyperMD-codeblock-begin-bg {
  border-radius: var(--radius-s) var(--radius-s) 0px 0px;
}
.cm-s-obsidian div.HyperMD-codeblock-end-bg {
  border-radius: 0px 0px var(--radius-s) var(--radius-s);
}
.code-block-flair {
  color: var(--code-normal) !important;
}
.code-block-flair:hover {
  background: var(--background-extra-dark) !important;
}
.markdown-rendered button.copy-code-button {
  color: var(--code-normal);
  background-color: transparent;
}
.markdown-rendered button.copy-code-button:hover {
  color: var(--code-normal);
  background-color: var(--background-extra-dark);
  box-shadow: none;
}
.HyperMD-codeblock .cm-indent::before {
  border-right: var(--indentation-guide-width) solid var(--code-indentation-guide-color) !important;
}
.HyperMD-codeblock {
  caret-color: var(--code-normal);
}
/* Callouts */
.callout {
  border-radius: var(--radius-s);
  border: 2px dashed var(--callout-color);
  background: transparent;
  padding: 0.75em;
}
.callout-title, .callout-icon .svg-icon {
  font-size: var(--h6-size);
  color: var(--text-normal);
}
.callout p:last-child {
  margin-bottom: 0;
}
.callout[data-callout="note"] {
  --callout-icon: lucide-info;
}
.callout[data-callout="important"] {
  --callout-icon: lucide-flag;
}
.callout[data-callout="error"] {
  --callout-icon: lucide-x;
}
.callout[data-callout="missing"] {
  --callout-icon: lucide-help-circle;
}
.callout[data-callout="hint"], .callout[data-callout="tip"] {
  --callout-icon: lucide-lightbulb;
}
.callout[data-callout="cite"] {
  --callout-icon: lucide-bookmark;
}
.callout[data-callout="check"], .callout[data-callout="done"] {
  --callout-icon: lucide-check-square;
}
.callout[data-callout="todo"] {
  --callout-icon: lucide-clipboard-check;
}
/* Canvases */
.canvas-node-container {
  border: 2px solid var(--text-normal);
  border-radius: var(--radius-m);
}
.canvas-node.is-selected .canvas-node-container,
.canvas-node.is-focused .canvas-node-container {
  border-color: var(--color-accent);
  box-shadow: var(--shadow-stationary), var(--shadow-border-accent);
}
.canvas-node-container:focus {
  border: 2px solid var(--text-normal);
}
/* Tags */
.cm-hashtag {
  line-height: 2em;
}
/* Highlights */
.suggestion-highlight, .markdown-rendered mark, .cm-s-obsidian .cm-highlight, .cm-formatting-highlight {
  background: var(--text-highlight-bg);
  color: var(--text-highlight-fg) !important;
}
.markdown-rendered mark, .cm-s-obsidian .cm-highlight, .cm-formatting-highlight {
  background: var(--text-highlight-bg);
  color: var(--text-highlight-fg) !important;
  padding: 0 3px;
}
.search-result-file-match:hover {
  background: var(--search-result-bg-hover);
}
.search-result-file-matched-text {
  color: var(--text-highlight-fg);
}
.is-flashing {
  caret-color: var(--text-highlight-fg);
  color: var(--text-highlight-fg);
}
.is-flashing .tag, .is-flashing p {
  color: var(--text-highlight-fg);
}
.is-flashing .tag {
  background: transparent;
}
.nav-folder-title.is-being-dragged-over {
  color: var(--text-normal);
  background: var(--color-accent-background);
}
/* Slides */
.reveal .controls button {
  color: var(--color-accent);
}
/* Empty Pages */
.empty-state-action:hover {
  cursor: pointer;
  color: var(--text-normal);
}
/* Status Bar */
.status-bar {
  background-color: var(--background-secondary);
}
/* Divider */
.workspace-leaf-resize-handle:hover {
  background-color: var(--color-accent);
  border-color: var(--color-accent);
}
.is-translucent .workspace-leaf-resize-handle:hover {
  background-color: var(--color-accent);
  border-color: var(--color-accent);
}
/* Menus */
.menu, .vertical-tab-header {
  background-color: var(--background-primary);
}
select, .dropdown, select:focus,
.dropdown:focus {
  box-shadow: 0 0 0px 1px var(--background-modifier-border-focus);
}
textarea:active,
input[type='text']:active,
input[type='search']:active,
input[type='email']:active,
input[type='password']:active,
input[type='number']:active,
textarea:focus,
input[type='text']:focus,
input[type='search']:focus,
input[type='email']:focus,
input[type='password']:focus,
input[type='number']:focus,
textarea:focus-visible,
input[type='text']:focus-visible,
input[type='search']:focus-visible,
input[type='email']:focus-visible,
input[type='password']:focus-visible,
input[type='number']:focus-visible {
  box-shadow: 0 0 0 1px var(--background-modifier-border-focus);
}
input.document-search-input.mod-no-match,
input.document-replace-input.mod-no-match {
  background-color: var(--background-extra-dark);
}

/* Calendar Plugin */
#calendar-container .year {
  color: var(--text-normal);
  font-weight: normal;
}
#calendar-container .month, #calendar-container .year {
  font-size: 20px;
  text-transform: uppercase;
  font-weight: bold;
}
#calendar-container .week-num {
  font-size: 9px;
  font-family: var(--font-text);
}
#calendar-container .day {
  border-radius: 0;
  border: 1px solid var(--accent-soft-dark);
  font-size: 11px;
  font-family: var(--font-text);
}
#calendar-container .reset-button {
  font-size: 14px;
}
#calendar-container th {
  font-family: var(--font-text);
  font-size: 9px;
}
#calendar-container td {
  padding: 2px;
}

/* Dictionary Plugin */
.dictionary-view-content .main {
  background: var(--dictionary-background-primary) !important;
  border-radius: var(--radius-s) !important;
}
.dictionary-view-content .container {
  background: var(--dictionary-background-secondary) !important;
  border-radius: var(--radius-s) !important;
}

/* Execute Code Plugin */
code.language-output hr {
  border-top: var(--code-indentation-guide-color) 1px dashed !important;
  margin: 1.5em 0 1.5em;
}
:not(.use-custom-output-color) code.language-output span.stdout {
  color: var(--code-normal) !important;
}
code.language-output {
  margin-bottom: 4em !important;
}
.run-code-button, .clear-button {
  background: transparent !important;
  border: 1px solid var(--code-normal) !important;
  color: var(--code-normal) !important;
  margin: 16px !important;
}
.run-code-button:hover, .clear-button:hover {
  background: var(--code-normal) !important;
  border: 1px solid var(--code-normal) !important;
  color: var(--background-dark) !important;
}

/* Kanban Plugin Styles */
.kanban-plugin__lane {
  border-radius: var(--radius-s);
  background: var(--main-background);
}
.kanban-plugin__lane .task-list-item-checkbox {
  background: var(--background-primary);
  border: 1px solid var(--kanban-checkbox-border) !important;
  filter: none !important;
  transition: 0.05s;
}
.kanban-plugin__lane .task-list-item-checkbox:hover {
  border: 1px solid transparent !important;
  box-shadow: 0px 0px 0px 2px hsla(var(--color-accent-hsl), 0.5);
  transition: 0.05s;
}
.kanban-plugin__item-title-wrapper {
  background: var(--background-secondary);
}
.kanban-plugin__item-tag {
  border-radius: var(--radius-s) !important;
}
button:not(.clickable-icon) {
  background: var(--accent-soft-light);
  color: var(--kanban-button-text);
}
button:not(.clickable-icon):hover {
  background: var(--color-accent);
  color: var(--kanban-button-text-hover);
}
button:not(.clickable-icon) {
  box-shadow: 0px 0px 1px 0px var(--button-shadow);
  transition: 0s;
}
button:not(.clickable-icon):hover {
  box-shadow: 0px 0px 1px 0px var(--button-shadow-hover);
  transition: 0s;
}
.kanban-plugin__lane input[type=checkbox]:checked:after {
  top: -2px;
  left: -2px;
}

/* Mobile Fixes */
.is-mobile {
  --interactive-normal: var(--accent-soft-light);
  --tag-background: var(--color-accent-background) !important;
}

.is-mobile.theme-dark {
  --interactive-normal: var(--background-dark);
  --tag-background: var(--color-accent-background) !important;
}
